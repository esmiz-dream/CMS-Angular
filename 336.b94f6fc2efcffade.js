"use strict";(self.webpackChunkcustomerManagementSystem=self.webpackChunkcustomerManagementSystem||[]).push([[336],{4336:(h,l,n)=>{n.r(l),n.d(l,{AuthModule:()=>f});var u=n(6814),r=n(95),s=n(594),e=n(9468),g=n(9229),c=n(2333);const d=[{path:"",children:[{path:"",component:(()=>{class t{constructor(o,a,m,b){this.builder=o,this.router=a,this.toastr=m,this.auth=b,this.loginForm=this.builder.group({username:this.builder.control("",r.kI.compose([r.kI.required])),password:this.builder.control("",r.kI.compose([r.kI.required]))}),null!=sessionStorage.getItem("user")&&this.router.navigate(["customers"])}proceedLogin(){this.loginForm.valid&&this.auth.getByCode(this.loginForm.value.username).subscribe(o=>{this.userData=o,console.warn(this.userData[0].username),this.userData[0].password===this.loginForm.value.password?(sessionStorage.setItem("user",this.userData[0].id),sessionStorage.setItem("role",this.userData[0].role),this.toastr.success("wellcom "+this.loginForm.value.username),this.router.navigate(["customers"])):this.toastr.error("Incorrect username or password")})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(s.F0),e.Y36(g._W),e.Y36(c.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:44,vars:1,consts:[[1,"login"],["id","ex1","role","tablist",1,"nav","nav-pills","nav-justified","mb-3"],["role","presentation",1,"nav-item"],["id","tab-login","data-mdb-toggle","pill","href","#pills-login","role","tab","aria-controls","pills-login","aria-selected","true",1,"nav-link","active"],["id","tab-register","data-mdb-toggle","pill","role","tab","aria-controls","pills-register","aria-selected","false",1,"nav-link"],[1,"tab-content"],["id","pills-login","role","tabpanel","aria-labelledby","tab-login",1,"tab-pane","fade","show","active"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-link","btn-floating","mx-1"],[1,"fab","fa-facebook-f"],[1,"fab","fa-google"],[1,"fab","fa-twitter"],[1,"fab","fa-github"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],["type","email","id","loginName","formControlName","username","placeholder","username",1,"form-control"],["type","password","formControlName","password","placeholder","password",1,"form-control"],[1,"row","mb-4"],[1,"col-md-6","d-flex","justify-content-center"],[1,"form-check","mb-3","mb-md-0"],["type","checkbox","value","","id","loginCheck","checked","",1,"form-check-input"],["for","loginCheck",1,"form-check-label"],["href","#"],["type","submit",1,"btn","btn-primary","btn-block","mb-4"],["href","#!"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),e._uU(4,"Login"),e.qZA()(),e.TgZ(5,"li",2)(6,"a",4),e._uU(7,"Register"),e.qZA()()(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"p"),e._uU(12,"Sign in with:"),e.qZA(),e.TgZ(13,"button",8),e._UZ(14,"i",9),e.qZA(),e.TgZ(15,"button",8),e._UZ(16,"i",10),e.qZA(),e.TgZ(17,"button",8),e._UZ(18,"i",11),e.qZA(),e.TgZ(19,"button",8),e._UZ(20,"i",12),e.qZA()(),e.TgZ(21,"p",13),e._uU(22,"or:"),e.qZA(),e.TgZ(23,"form",14),e.NdJ("ngSubmit",function(){return a.proceedLogin()}),e.TgZ(24,"div",15),e._UZ(25,"input",16),e.qZA(),e.TgZ(26,"div",15),e._UZ(27,"input",17),e.qZA(),e.TgZ(28,"div",18)(29,"div",19)(30,"div",20),e._UZ(31,"input",21),e.TgZ(32,"label",22),e._uU(33," Remember me "),e.qZA()()(),e.TgZ(34,"div",19)(35,"a",23),e._uU(36,"Forgot password?"),e.qZA()()(),e.TgZ(37,"button",24),e._uU(38,"Sign in"),e.qZA(),e.TgZ(39,"div",13)(40,"p"),e._uU(41,"Not a member? "),e.TgZ(42,"a",25),e._uU(43,"Register"),e.qZA()()()()()()()),2&o&&(e.xp6(23),e.Q6J("formGroup",a.loginForm))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".login[_ngcontent-%COMP%]{max-width:600px;min-width:400px;margin:auto;padding-top:100px}#submit[_ngcontent-%COMP%]{width:100%}"]}),t})()},{path:"reg",component:(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registration"]],decls:28,vars:0,consts:[[1,"form-outline","mb-4"],["type","text","id","registerName",1,"form-control"],["for","registerName",1,"form-label"],["type","text","id","registerUsername",1,"form-control"],["for","registerUsername",1,"form-label"],["type","email","id","registerEmail",1,"form-control"],["for","registerEmail",1,"form-label"],["type","password","id","registerPassword",1,"form-control"],["for","registerPassword",1,"form-label"],["type","password","id","registerRepeatPassword",1,"form-control"],["for","registerRepeatPassword",1,"form-label"],[1,"form-check","d-flex","justify-content-center","mb-4"],["type","checkbox","value","","id","registerCheck","checked","","aria-describedby","registerCheckHelpText",1,"form-check-input","me-2"],["for","registerCheck",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","mb-3"]],template:function(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"registration works!"),e.qZA(),e.TgZ(2,"div",0),e._UZ(3,"input",1),e.TgZ(4,"label",2),e._uU(5,"Name"),e.qZA()(),e.TgZ(6,"div",0),e._UZ(7,"input",3),e.TgZ(8,"label",4),e._uU(9,"Username"),e.qZA()(),e.TgZ(10,"div",0),e._UZ(11,"input",5),e.TgZ(12,"label",6),e._uU(13,"Email"),e.qZA()(),e.TgZ(14,"div",0),e._UZ(15,"input",7),e.TgZ(16,"label",8),e._uU(17,"Password"),e.qZA()(),e.TgZ(18,"div",0),e._UZ(19,"input",9),e.TgZ(20,"label",10),e._uU(21,"Repeat password"),e.qZA()(),e.TgZ(22,"div",11),e._UZ(23,"input",12),e.TgZ(24,"label",13),e._uU(25," I have read and agree to the terms "),e.qZA()(),e.TgZ(26,"button",14),e._uU(27,"Sign in"),e.qZA())}}),t})()}]}];let p=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.Bz.forChild(d),s.Bz]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,p,r.UX]}),t})()}}]);